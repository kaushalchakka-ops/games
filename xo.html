<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tic Tae Toe game</title>
    <style>
      body{
        /* background-color: #020617; */
        padding-left: 50px;
        padding-top: 40px;
        color: azure;
      }
      .tictac{
        /* background-color: #285dfe; */
        border: 2px solid transparent;
        height: 310px;
        width: 310px;
      }
        .btn {
        background-color: #12182A;
        color:#ffffff;
        width: 100px;
        height: 100px;
        margin-bottom: 5px;
        border: 2px solid #2A3244;
        border-radius: 10px;
        vertical-align: top; 
        font-size: 20px;
        }

      .btn:hover{
        background-color: #363E52;
        border-color: #78E4F4;
      }
      .tictac.o-turn .btn:not(.clicked):hover{
        border-color: #F472B6;
      }
      .btn.clicked:hover{
        border-color: transparent;
        background-color: #12182A;
        
      }
      .container{
        margin-left: 500px;
        margin-top: 75px;
        align-items: center;
        justify-content: center;
      }
      
    </style>
    </head>
  <body>
    <h1 style="color: black;">Tic Tac Toe</h1>
    <p style="color: black;">Two Player needed to play!(First one to make a row wins X will start)</p>
    <h2 id="turns" style="color: #78E4F4;">A turn</h2>
    <div class="container">
      <div class="tictac">
        <button class="btn" id = "b1"></button>
        <button class="btn" id = "b2"> </button>
        <button class="btn" id = "b3"> </button>
        <button class="btn" id = "b4"> </button>
        <button class="btn" id = "b5"> </button>
        <button class="btn" id = "b6"> </button>
        <button class="btn" id = "b7"> </button>
        <button class="btn" id = "b8"> </button>
        <button class="btn" id = "b9"> </button>
      </div>
    </div>
    <h2 id="ae" style="padding-left: 41%;"></h2>
    <button style="border-radius: 5px;margin-left: 41%;border: transparent;color:white;background-color: #78E4F4;height: 31px;width:50px;visibility: hidden;" id="ret"onclick="location.reload()">Retry</button>
    <script>
      let x=[];
      let o=[];
      let won=0;
        let mat = [
    ['b1','b2','b3'],
    ['b4','b5','b6'],
    ['b7','b8','b9'],
    ['b1','b4','b7'],
    ['b2','b5','b8'],
    ['b3','b6','b9'],
    ['b1','b5','b9'],
    ['b3','b5','b7']
    ];
    let a = 'X';
      function fun(){
    for(let i=0;i<=7;i++){
        let a2=document.querySelector("#ae");
        let ret=document.getElementById("ret")
        if(x.includes(mat[i][0])&&x.includes(mat[i][1])&&x.includes(mat[i][2])){
          a2.textContent='A won';
          a2.style.color='#78E4F4';
          ret.style.visibility='visible';
          won=1;
        }else if(o.includes(mat[i][0])&&o.includes(mat[i][1])&&o.includes(mat[i][2])){
          a2.textContent='B won';
          a2.style.color='#F472B6';
          ret.style.visibility='visible';
          won=1;
        }else if(x.length+o.length===9){
          a2.textContent='Match Draw';
          ret.style.visibility='visible';
          won=1;
          a2.style.color='#B0B1B6';
        }
    }
}
    let a1 = document.querySelectorAll(".btn");
    a1.forEach((tictac) =>{
    tictac.addEventListener("click", () => {
        if(a==='X'){
          let ab= tictac.getAttribute("id");
          if(x.includes(ab)==0&&o.includes(ab)==0&&won===0){
            a='O';
            x.push(ab);
            let af=document.getElementById(ab);
            af.textContent='X';
            af.style.color='#78E4F4';
            // af.style.backgroundColor='#10293E';
            let turns=document.getElementById("turns");
            turns.textContent='B turn';
            turns.style.color='#F472B6';
            // document.querySelector('.tictac').classList.add('o-turn');
            // tictac.classList.add('clicked');
            fun();
          }
        }else{
          let ac= tictac.getAttribute("id");
          if(o.includes(ac)==0&&x.includes(ac)==0&&won===0){
            a='X';
            o.push(ac);
            let af=document.getElementById(ac);
            af.textContent='O';
            af.style.color='#F472B6';
            // af.style.backgroundColor='#261D38';
            let turns=document.getElementById("turns");
            turns.textContent='A turn';
            turns.style.color='#78E4F4';
            // document.querySelector('.tictac').classList.remove('o-turn');
            // tictac.classList.add('clicked');
            fun();
          }
        }
    })
  })
    </script>
  </body>
</html>
